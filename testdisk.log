

Tue Nov 29 10:34:02 2016
Command line: TestDisk

TestDisk 7.0, Data Recovery Utility, April 2015
Christophe GRENIER <grenier@cgsecurity.org>
http://www.cgsecurity.org
OS: Linux, kernel 4.6.0-kali1-amd64 (#1 SMP Debian 4.6.4-1kali1 (2016-07-21)) x86_64
Compiler: GCC 5.3
ext2fs lib: 1.43.1, ntfs lib: libntfs-3g, reiserfs lib: none, ewf lib: none, curses lib: ncurses 6.0
/dev/sda: LBA, LBA48, DCO support
/dev/sda: size       976773168 sectors
/dev/sda: user_max   976773168 sectors
/dev/sda: dco        976773168 sectors
Warning: can't get size for Disk /dev/mapper/control - 0 B - 0 sectors, sector size=512
Hard disk list
Disk /dev/sda - 500 GB / 465 GiB - CHS 60801 255 63, sector size=512 - HGST HTS545050A7E680, S/N:TW8513L935GPJP, FW:GG2OAH10

Partition table type (auto): Intel
Disk /dev/sda - 500 GB / 465 GiB - HGST HTS545050A7E680
Partition table type: EFI GPT

Interface Advanced
Bad GPT partition, invalid signature.
Trying alternate GPT
Bad GPT partition, invalid signature.

Analyse Disk /dev/sda - 500 GB / 465 GiB - CHS 60801 255 63
Bad GPT partition, invalid signature.
Trying alternate GPT
Bad GPT partition, invalid signature.
Current partition structure:
Bad GPT partition, invalid signature.
Trying alternate GPT
Bad GPT partition, invalid signature.

search_part()
Disk /dev/sda - 500 GB / 465 GiB - CHS 60801 255 63

recover_EXT2: s_block_group_nr=0/745, s_mnt_count=16/4294967295, s_blocks_per_group=32768, s_inodes_per_group=8192
recover_EXT2: s_blocksize=4096
recover_EXT2: s_blocks_count 24414062
recover_EXT2: part_size 195312496
     MS Data                     2048  195314543  195312496 [raiz]
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 99 GB / 93 GiB

recover_EXT2: s_block_group_nr=0/2950, s_mnt_count=16/4294967295, s_blocks_per_group=32768, s_inodes_per_group=8192
recover_EXT2: s_blocksize=4096
recover_EXT2: s_blocks_count 96675072
recover_EXT2: part_size 773400576
     MS Data                195315712  968716287  773400576
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 395 GB / 368 GiB
     Linux Swap             968718328  968718343         16
     SWAP2 version 0, pagesize=8192, 8192 B

LVM magic value at 60323/253/50
Search for partition aborted

Results
   P MS Data                     2048  195314543  195312496 [raiz]
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 99 GB / 93 GiB
   P MS Data                195315712  968716287  773400576
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 395 GB / 368 GiB
   P Linux Swap             968718328  968718343         16
     SWAP2 version 0, pagesize=8192, 8192 B

Hint for advanced users. dmsetup may be used if you prefer to avoid to rewrite the partition table for the moment:
echo "0 195312496 linear /dev/sda 2048" | dmsetup create test0
echo "0 773400576 linear /dev/sda 195315712" | dmsetup create test1
echo "0 16 linear /dev/sda 968718328" | dmsetup create test2

interface_write()
 1 P MS Data                     2048  195314543  195312496 [raiz]
 2 P MS Data                195315712  968716287  773400576
 3 P Linux Swap             968718328  968718343         16
simulate write!

TestDisk exited normally.
